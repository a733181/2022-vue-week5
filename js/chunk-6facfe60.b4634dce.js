(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6facfe60"],{"06c3":function(e,t,r){e.exports=r.p+"img/trash-can-solid.4839a2f8.svg"},"1d5f":function(e,t,r){"use strict";r.r(t);r("fb6a"),r("b0c0");var c=r("7a23"),l={class:"mb-6"},n=Object(c["i"])("label",{for:"orderId",class:"text-2xl font-bold lg:text-lg"},"請輸入訂單編號",-1),o=Object(c["j"])("搜尋"),i={key:0},a=Object(c["i"])("h1",{class:"mb-3 text-2xl font-bold"},"訂單明細",-1),d={class:"p-4 mb-8 bg-gray-100 rounded-lg"},s={class:"flex gap-2"},u=Object(c["i"])("h3",null,"訂單編號：",-1),b={class:"flex gap-2"},O=Object(c["i"])("h3",null,"付款狀態：",-1),j={class:"flex gap-2"},p=Object(c["i"])("h3",{class:"ml-8"},"姓名：",-1),f={class:"flex gap-2"},h=Object(c["i"])("h3",{class:"ml-8"},"電話：",-1),x={class:"flex gap-2"},g=Object(c["i"])("h3",{class:"ml-8"},"地址：",-1),m=Object(c["i"])("h2",{class:"mb-3 text-2xl font-bold"},"商品清單",-1),y={key:1,class:"text-3xl text-center"};function v(e,t,r,v,w,k){var I,K=Object(c["H"])("base-btn"),P=Object(c["H"])("cart-product-list"),C=Object(c["H"])("base-loading"),q=Object(c["H"])("base-dialog");return Object(c["y"])(),Object(c["h"])(c["a"],null,[Object(c["i"])("div",l,[Object(c["i"])("form",{action:"",class:"flex flex-col items-center gap-3 lg:flex-row",onSubmit:t[2]||(t[2]=Object(c["U"])((function(){return k.searchOrder&&k.searchOrder.apply(k,arguments)}),["prevent"]))},[n,Object(c["T"])(Object(c["i"])("input",{type:"text",name:"",id:"orderId",class:Object(c["s"])(["p-[7px] border-2 rounded-lg w-full lg:w-1/3 xl:w-1/6",{"border-red-300":w.orderId.isValue}]),onBlur:t[0]||(t[0]=function(e){return w.orderId.isValue=!1}),"onUpdate:modelValue":t[1]||(t[1]=function(e){return w.orderId.value=e})},null,34),[[c["O"],w.orderId.value,void 0,{trim:!0}]]),Object(c["k"])(K,{class:"w-full lg:w-20",submit:""},{default:Object(c["S"])((function(){return[o]})),_:1})],32)]),null!==(I=w.order)&&void 0!==I&&I.id?(Object(c["y"])(),Object(c["h"])("div",i,[a,Object(c["i"])("ul",d,[Object(c["i"])("li",s,[u,Object(c["i"])("p",null,Object(c["K"])(w.order.id),1)]),Object(c["i"])("li",b,[O,Object(c["i"])("p",{class:Object(c["s"])({"text-red-600":!w.order.is_paid})},Object(c["K"])(w.order.is_paid?"已付款":"未付款"),3)]),Object(c["i"])("li",j,[p,Object(c["i"])("p",null,Object(c["K"])(w.order.user.name.slice(0,1).toUpperCase())+"xx",1)]),Object(c["i"])("li",f,[h,Object(c["i"])("p",null,Object(c["K"])(w.order.user.tel.slice(0,4))+"xxxx",1)]),Object(c["i"])("li",x,[g,Object(c["i"])("p",null,Object(c["K"])(w.order.user.address.slice(0,3))+"xxxxxxxx",1)])]),m,Object(c["k"])(P,{products:w.products,order:""},null,8,["products"])])):Object(c["g"])("",!0),w.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("p",y,"搜尋不到訂單，請確認訂單編號是否正確")),Object(c["k"])(C,{show:w.isLoading},null,8,["show"]),Object(c["k"])(q,{show:!!w.error,title:"Error",onClose:k.closeError},{default:Object(c["S"])((function(){return[Object(c["j"])(Object(c["K"])(w.error),1)]})),_:1},8,["show","onClose"])],64)}var w=r("1da1"),k=(r("96cf"),r("d81d"),r("4fadc"),r("2b06")),I={components:{CartProductList:k["a"]},data:function(){return{orderId:{value:"",isValue:!1},order:{},products:[],error:"",isLoading:!1}},methods:{searchOrder:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,""!==e.orderId.value){t.next=4;break}return e.orderId.isValue=!0,t.abrupt("return");case 4:return e.isLoading=!0,t.next=7,e.$store.dispatch("order/getOrder",e.orderId.value);case 7:e.order=e.$store.getters["order/order"],null===e.order?e.isLoading=!1:e.products=Object.entries(e.order.products).map((function(e){return e[1]})),e.orderId.value="",t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.error=t.t0;case 15:return t.prev=15,e.isLoading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})))()},closeError:function(){this.error=""}}},K=r("6b0d"),P=r.n(K);const C=P()(I,[["render",v]]);t["default"]=C},"2b06":function(e,t,r){"use strict";var c=r("7a23"),l=r("06c3"),n=r.n(l),o={class:"w-full text-center"},i={class:"border-b-2"},a=Object(c["i"])("th",{class:"w-1/3"},"商品名稱",-1),d=Object(c["i"])("th",{class:"w-1/6"},"單價",-1),s=Object(c["i"])("th",{class:"w-1/6"},"數量",-1),u=Object(c["i"])("th",{class:"w-1/6"},"小計",-1),b={key:0,class:"w-1/6"},O={class:"flex flex-col items-center py-3 lg:flex-row"},j=["src","alt"],p=["onUpdate:modelValue","onChange"],f={key:1},h={key:0},x=["onClick"],g=Object(c["i"])("td",null,null,-1),m=Object(c["i"])("td",null,null,-1),y=Object(c["i"])("td",null,null,-1),v={class:"pt-2"},w={key:0};function k(e,t,r,l,k,I){return Object(c["y"])(),Object(c["h"])("table",o,[Object(c["i"])("thead",null,[Object(c["i"])("tr",i,[a,d,s,u,r.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("th",b,"刪除"))])]),Object(c["i"])("tbody",null,[(Object(c["y"])(!0),Object(c["h"])(c["a"],null,Object(c["F"])(r.products,(function(e){return Object(c["y"])(),Object(c["h"])("tr",{key:e.id,class:"border-b-[1px]"},[Object(c["i"])("td",O,[Object(c["i"])("img",{src:e.product.imageUrl,alt:e.product.title,class:"w-[100px] mb-2 lg:mb-0 lg:mr-6 object-cover"},null,8,j),Object(c["i"])("p",null,Object(c["K"])(e.product.title),1)]),Object(c["i"])("td",null,Object(c["K"])(e.product.price),1),Object(c["i"])("td",null,[r.order?Object(c["g"])("",!0):Object(c["T"])((Object(c["y"])(),Object(c["h"])("input",{key:0,type:"number",name:"",id:"","onUpdate:modelValue":function(t){return e.qty=t},class:"w-full px-3 border-2 rounded-lg",onChange:function(t){return I.changeProductQuantity(e)}},null,40,p)),[[c["O"],e.qty]]),r.order?(Object(c["y"])(),Object(c["h"])("p",f,Object(c["K"])(e.qty),1)):Object(c["g"])("",!0)]),Object(c["i"])("td",null,Object(c["K"])(e.final_total),1),r.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("td",h,[Object(c["i"])("img",{src:n.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:function(t){return I.deleteProduct(e.id)}},null,8,x)]))])})),128)),Object(c["i"])("tr",null,[g,m,y,Object(c["i"])("td",null,[Object(c["i"])("p",v,Object(c["K"])(I.sumsPriceTotal),1)]),r.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("td",w,[Object(c["i"])("img",{src:n.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:t[0]||(t[0]=function(){return I.deleteProduct&&I.deleteProduct.apply(I,arguments)})})]))])])])}r("d3b7");var I={props:{products:{type:Array,relative:!0},order:{type:Boolean,relative:!1}},emits:["change-product-quantity","delete-product"],data:function(){return{productList:[]}},computed:{sumsPriceTotal:function(){return this.products?this.products.reduce((function(e,t){var r=e+t.final_total;return r}),0):0}},watch:{},methods:{changeProductQuantity:function(e){if(e.qty<1)this.deleteProduct(e.id);else{var t={id:e.id,data:{product_id:e.product_id,qty:e.qty}};this.$emit("change-product-quantity",t)}},deleteProduct:function(e){this.$emit("delete-product",e)}}},K=r("6b0d"),P=r.n(K);const C=P()(I,[["render",k]]);t["a"]=C},"4fadc":function(e,t,r){var c=r("23e7"),l=r("6f53").entries;c({target:"Object",stat:!0},{entries:function(e){return l(e)}})},"6f53":function(e,t,r){var c=r("83ab"),l=r("e330"),n=r("df75"),o=r("fc6a"),i=r("d1e7").f,a=l(i),d=l([].push),s=function(e){return function(t){var r,l=o(t),i=n(l),s=i.length,u=0,b=[];while(s>u)r=i[u++],c&&!a(l,r)||d(b,e?[r,l[r]]:l[r]);return b}};e.exports={entries:s(!0),values:s(!1)}},d81d:function(e,t,r){"use strict";var c=r("23e7"),l=r("b727").map,n=r("1dde"),o=n("map");c({target:"Array",proto:!0,forced:!o},{map:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},fb6a:function(e,t,r){"use strict";var c=r("23e7"),l=r("da84"),n=r("e8b5"),o=r("68ee"),i=r("861d"),a=r("23cb"),d=r("07fa"),s=r("fc6a"),u=r("8418"),b=r("b622"),O=r("1dde"),j=r("f36a"),p=O("slice"),f=b("species"),h=l.Array,x=Math.max;c({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,c,l,b=s(this),O=d(b),p=a(e,O),g=a(void 0===t?O:t,O);if(n(b)&&(r=b.constructor,o(r)&&(r===h||n(r.prototype))?r=void 0:i(r)&&(r=r[f],null===r&&(r=void 0)),r===h||void 0===r))return j(b,p,g);for(c=new(void 0===r?h:r)(x(g-p,0)),l=0;p<g;p++,l++)p in b&&u(c,l,b[p]);return c.length=l,c}})}}]);
//# sourceMappingURL=chunk-6facfe60.b4634dce.js.map